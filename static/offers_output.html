<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Offers Page</title>
</head>
<body>

    <h1>Offers Page</h1>

    <p>This is the class name from the server: <span id="class_name_placeholder"></span></p>
    <button onclick="saveOffers()">Save Offers</button>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            try {
                // Retrieve the class_name from localStorage
                const class_name = localStorage.getItem('class_name');
    
                // Do something with the class_name (update the DOM, etc.)
                if (class_name) {
                    document.getElementById('class_name_placeholder').textContent = class_name;
                }
            } catch (error) {
                console.error('Error retrieving class_name from localStorage:', error);
            }
        });

        function saveOffers() {
            try {
                // Retrieve the class_name from the DOM
                const class_name = document.getElementById('class_name_placeholder').textContent;

                // Store the class_name in localStorage
                localStorage.setItem('class_name', class_name);

                // Attempt to redirect to the save_offers route
                window.location.href = "/save_offers";
            } catch (error) {
                console.error('Error redirecting to save_offers:', error);
            }
        }
    </script>
    
</body>
</html>